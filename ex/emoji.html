<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width,minimum-scale=1.0,maximum-scale=1.0,user-scalable=no">
    <meta content="fullscreen=yes,preventMove=no" name="ML-Config">
    <title>emojiè¡¨æƒ…è½¬HTMLå®ä½“å­—ç¬¦</title>
<script type="text/javascript" src="../js/jquery/1.11.1/jquery.js"></script>
<style type="text/css">
    body {margin: 0;padding: 10px;}
</style>
</head>
<body>
<div class="emoji">â‚¬ æ˜æ˜ä½ æ°‘å·¥ ğŸ˜€ğŸ˜˜ğŸ˜™â˜ºï¸â˜ºï¸ğŸ˜™ğŸ˜¢â˜ºï¸â˜ºï¸æ”»å‡»åŠ›ingå“¦å“¦ â‚¬ğŸ‘±ğŸ»ğŸ‘±ğŸ»ğŸ®ğŸ°ğŸ™ˆğŸ™‰ğŸ‘‘ğŸ“ğŸ€âš¾ï¸ğŸ³ğŸ¯ğŸš…ğŸš†ğŸš‹ğŸš’ğŸš–âœˆï¸ğŸš€ğŸ›ƒğŸ¢ğŸ¥ğŸ‡¨ğŸ‡³ğŸ‡µğŸ‡­ğŸ‡²ğŸ‡½ğŸ‡¸ğŸ‡¬âŒšï¸ğŸ’»ğŸ“»ğŸ’½ğŸ’³ğŸ’°ğŸ“¤ğŸ“¦ğŸ›ğŸ”«âœ’ï¸ğŸ“”ğŸ”“ğŸ“˜ğŸ“âœ³ï¸ğŸ‰‘ğŸˆğŸ‰‘âœ…ğŸ“´ğŸˆµğŸ†™ğŸšºâ™ï¸ğŸ†—ğŸš»â™‹ï¸â©ğŸ”„â†ªï¸ğŸ”½ğŸ¦6âƒ£ğŸ“¶5âƒ£â–5âƒ£ğŸ”¢ğŸ’²ğŸ“¶â°â¿ã€°â¿â—â€¼ï¸</div>
<hr>
<div class="result">
    
</div>

<script>
/**
 * ç”¨äºæŠŠç”¨utf16ç¼–ç çš„å­—ç¬¦(emoji)è½¬æ¢æˆå®ä½“å­—ç¬¦ï¼Œä»¥ä¾›åå°å­˜å‚¨
 * @param  {string} str å°†è¦è½¬æ¢çš„å­—ç¬¦ä¸²ï¼Œå…¶ä¸­å«æœ‰utf16å­—ç¬¦å°†è¢«è‡ªåŠ¨æ£€å‡º
 * @return {string}     è½¬æ¢åçš„å­—ç¬¦ä¸²ï¼Œutf16å­—ç¬¦å°†è¢«è½¬æ¢æˆ&#xxxx;å½¢å¼çš„å®ä½“å­—ç¬¦
 */
function utf16toEntities(str) {
    var patt=/[\u2600-\u27bf]|[\ud800-\udbff][\udc00-\udfff]/g; // æ£€æµ‹utf16å­—ç¬¦æ­£åˆ™
    str = str.replace(patt, function(char){
            var H, L, code;
            if (char.length===2) {
                H = char.charCodeAt(0); // å–å‡ºé«˜ä½
                L = char.charCodeAt(1); // å–å‡ºä½ä½
                code = (H - 0xD800) * 0x400 + 0x10000 + L - 0xDC00; // è½¬æ¢ç®—æ³•
                code = code.toString(16); //16è¿›åˆ¶æ˜¾ç¤º
                return "&#" + code + ";";
            } else {
                code = char.charCodeAt();
                code = code.toString(16); //16è¿›åˆ¶æ˜¾ç¤º
                return "&#" + code + ";";
            }
        });
    return str;
}
var emoji = $('.emoji').text();
var code = utf16toEntities(emoji);
$('.result').text(code);
</script>
</body>
</html>